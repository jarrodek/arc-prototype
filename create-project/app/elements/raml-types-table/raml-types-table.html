<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">

<dom-module id="raml-types-table">
  <template>
    <style>
      :host {
        display: block;
      }
      .row {
        @apply(--layout-center);
      }
      iron-collapse,
      .row {
        border: 1px rgba(0,0,0,0.12) solid;
      }
      .item-title {
        @apply(--paper-font-body1);
        font-weight: 500;
        color: rgba(0,0,0,0.87);
      }
      .item-type {
        @apply(--paper-font-caption);
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
        color: rgba(0,0,0,0.54);
      }
      paper-icon-button {
        color: rgba(0,0,0,0.54);
      }

      .editor-content,
      .row {
        @apply(--layout-horizontal);
      }

      .item-title,
      .toggle-left {
        @apply(--layout-flex);
        padding: 0 12px;
      }
      .item-type,
      .toggle-content {
        @apply(--layout-flex-2);
      }

      .row[opened] {
        border-bottom-color: transparent;
      }

      .button-placeholder {
        width: 40px;
        height: 40px;
      }

      .type-label {
        color: rgba(0,0,0,0.4);
        margin-right: 8px;
        text-transform: capitalize;
      }

      iron-collapse {
        border-top-color: transparent;
      }
      .editor-actions {
        height: 64px;
        @apply(--layout-horizontal);
        @apply(--layout-end-justified);
        border-top: 1px rgba(0,0,0,0.12) solid;
      }
      .delete-button {
        color: rgba(0,0,0,0.54);
      }
      .edit-button {
        color: #00A1DF;
      }
      .toggle-content {
        @apply(--paper-font-caption);
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
        color: rgba(0,0,0,0.87);
      }
      .help-doc {
        font-size: 11px;
        color: rgba(0,0,0,0.40);
      }
      .help-doc paper-button {
        color: #00A1DF;
      }
    </style>
    <div class="row" opened$="[[opened]]">
      <div class="item-title">[[_typeName(type.*)]]</div>
      <div class="item-type"><span class="type-label">Type:</span> <span>[[type.baseType]]</span></div>
      <paper-icon-button on-tap="toggle" icon="[[_computeIcon(opened)]]"></paper-icon-button>
    </div>
    <iron-collapse id="collapse" opened="{{opened}}">
      <div class="editor-content">
        <div class="toggle-left">
          <section class="help-doc">
            Use type to apply it to the request and traits.<br/>
            <paper-button>learn more</paper-button>
          </section>
        </div>
        <div class="toggle-content">[[_typeDesc(type.*)]]</div>
        <div class="button-placeholder"></div>
      </div>
      <div class="editor-actions">
        <paper-button class="delete-button" on-tap="delete">DELETE</paper-button>
        <paper-button class="edit-button" on-tap="edit">EDIT</paper-button>
      </div>
    </iron-collapse>
  </template>
  <script src="raml-types-table.js"></script>
</dom-module>
