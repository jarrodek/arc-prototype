<link rel="import" href="../../bower_components/polymer/polymer.html">
<!-- <link rel="import" href="../../bower_components/paper-styles/paper-styles.html"> -->
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-item-body.html">
<link rel="import" href="../arc-icons/arc-icons.html">
<dom-module id="raml-type-property-array">
  <template>
    <style>
    :host {
      display: block;
    }

    .row {
      @apply(--layout-horizontal);
      padding: 0 12px;
      @apply(--raml-type-property-row);
    }

    .row.checkbox {
      @apply(--layout-center);
    }

    .left,
    .right {
      @apply(--layout-flex);
      @apply(--layout-horizontal);
      @apply(--layout-center);
    }

    .left {
      margin-right: 8px;
    }

    .right {
      margin-left: 8px;
    }

    paper-input {
      @apply(--layout-flex);
    }

    h2 {
      @apply(--paper-font-caption);
      margin-left: 12px;
      @apply(--raml-editor-title2);
    }

    .types-editor {
      padding: 0 12px;
    }

    .form {
      @apply(--layout-horizontal);
      margin-left: 12px;
    }
    </style>
    <div class="types-editor">
      <h2>File type(s)</h2>
      <template is="dom-repeat" items="[[items]]" id="items">
        <paper-item>
          <paper-item-body>[[item]]</paper-item-body>
          <paper-icon-button icon="arc:remove-circle-outline" alt="Remove type" on-tap="_removeType"></paper-icon-button>
        </paper-item>
      </template>
      <div class="form">
        <paper-dropdown-menu label="Select type">
          <paper-listbox class="dropdown-content" selected="{{selectedType}}" attr-for-selected="base-type">
            <template is="dom-repeat" items="[[availableTypes]]">
              <paper-item base-type="[[item.value]]">[[item.name]]</paper-item>
            </template>
          </paper-listbox>
        </paper-dropdown-menu>
        <paper-button raised on-tap="_addType">add</paper-button>
      </div>
      <paper-toast text="Enter mime type value first." id="noNameToast"></paper-toast>
  </div>
  <div class="row checkbox">
    <paper-checkbox checked="{{uniqueItems}}">Unique items</paper-checkbox>
    <a href="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md/#array-type" target="_blank">
      <paper-icon-button icon="arc:help-outline" id="exampleHelp"></paper-icon-button>
    </a>
    <paper-tooltip for="exampleHelp" fit-to-visible-bounds>If selected then items in the array must be unique</paper-tooltip>
  </div>
  <div class="row">
    <div class="left">
      <paper-input label="Min items (optional)" value="{{minItems}}" type="number"></paper-input>
      <a href="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md/#array-type" target="_blank">
        <paper-icon-button icon="arc:help-outline" id="minLengthHelp"></paper-icon-button>
      </a>
      <paper-tooltip for="minLengthHelp" fit-to-visible-bounds>Minimum amount of items in the array. Value must be equal to or greater than 0.</paper-tooltip>
    </div>
    <div class="right">
      <paper-input label="Max items (optional)" value="{{maxItems}}" type="number"></paper-input>
      <a href="https://github.com/raml-org/raml-spec/blob/master/versions/raml-10/raml-10.md/#array-type" target="_blank">
        <paper-icon-button icon="arc:help-outline" id="maxLengthHelp"></paper-icon-button>
      </a>
      <paper-tooltip for="maxLengthHelp" fit-to-visible-bounds>Maximum amount of items in the array. Value must be equal to or greater than 0.</paper-tooltip>
    </div>
  </div>
  <paper-toast text="Select a type in a drop down." id="selectTypeToast"></paper-toast>
  </template>
  <script src="raml-type-property-array.js"></script>
</dom-module>
