<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/paper-tabs/paper-tab.html">
<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/code-mirror/code-mirror.html">

<link rel="import" href="../../scripts/code-mirror/cm-arc-style/cm-arc-styles.html">

<link rel="import" href="../json-editor/json-editor.html">

<dom-module id="payload-editor">
  <template>
    <style>
    :host {
      display: block;

      --code-mirror-wrapper: {
        display: block;
        height: 100%;
      };
      --code-mirror-editor: {
        z-index: 0;
        display: block;
      }

      --paper-input-container-underline: {
        background-color: var(--main-section-border-color);
      }

      --paper-autocomplete: {
        top: 32px;
      }
    }
    .content {
      @apply(--layout-horizontal);
      position: relative;

      @apply(--headers-editor);
    }
    iron-pages {
      @apply(--layout-flex);
    }
    code-mirror,
    iron-pages > section {
      display: block;
      height: 100%;
    }
    code-mirror {
      overflow: hidden;
    }
    </style>
    <div class="content">
      <iron-pages selected="{{tabSelected}}">
        <json-editor json="{{jsonPayload}}"></json-editor>
        <!-- <section></section> -->
        <section>
          <code-mirror mode="application/json" theme="cm-arc" value="{{value}}" id="cm"></code-mirror>
        </section>
        <!-- <section></section> -->
      </iron-pages>
      <vertical-paper-tabs class="page-selector" selected="{{tabSelected}}">
        <paper-tab>JSON</paper-tab>
        <!-- <paper-tab>XML</paper-tab> -->
        <paper-tab>Raw data</paper-tab>
        <!-- <paper-tab>Preview</paper-tab> -->
      </vertical-paper-tabs>
    </div>
  </template>
</dom-module>
<script src="payload-editor.js"></script>
